spring:
  jpa:
    hibernate:
      ddl-auto: validate
  devtools:
    restart:
      enabled: false
    livereload:
      enabled: false
  datasource:
    url: jdbc:postgresql://localhost:5432/simplixdb
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: org.postgresql.Driver
  sql:
    init:
      mode: never
  thymeleaf:
    cache: true
  web:
    resources:
      chain:
        cache: true

logging:
  level:
    root: WARN
    dev.simplecore.simplix: INFO
    org.springframework.security: INFO
  file:
    name: /var/log/simplix/application.log
  logback:
    rollingpolicy:
      max-file-size: 10MB
      max-history: 30
  charset:
    console: UTF-8
    file: UTF-8

server:
  tomcat:
    # 최대 worker 스레드 수: 동시에 처리할 수 있는 요청
    max-threads: 400
    
    # 최소 유지 스레드 수 (max-threads의 약 10-15%): 항상 대기 상태로 유지할 스레드의 수
    min-spare-threads: 50
    
    # 최대 동시 연결 수 (max-threads * 50): 서버가 수용할 수 있는 전체 TCP 연결의 수
    max-connections: 20000
    
    # 요청 대기 큐 크기 (max-threads의 절반): 모든 스레드가 사용 중일 때 대기할 수 있는 요청의 수
    accept-count: 200
    
    # 연결 타임아웃 (60초): 클라이언트의 요청을 기다리는 최대 시간
    connection-timeout: 60000
    
  # HTTP 압축 설정
  compression:
    enabled: true
    # 압축할 컨텐츠 타입
    mime-types: >
      text/html,text/xml,text/plain,text/css,
      application/javascript,application/json,
      application/xml,application/x-javascript
    # 압축 적용 최소 크기 (2KB)
    min-response-size: 2048 